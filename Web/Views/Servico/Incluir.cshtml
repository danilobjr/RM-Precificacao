@model RM.Precificacao.Web.ViewModel.ServicoIncluirViewModel

@using RM.Precificacao.Dominio.Entidades;
@using RM.Precificacao.Dominio.Enumeradores;
@using RM.Precificacao.Web.Extensions;

@{
    ViewBag.Title = "Incluir";
}

<h2>Cadastro de Serviços</h2>

@if (!ViewContext.ViewData.ModelState.IsValid)
{ 
    <div class="erro">
        @Html.ValidationSummary()
    </div>
}

<div class="fieldset">
    @using (Html.BeginForm("Incluir", "Servico", FormMethod.Post))
    {
        <div class="campo">
            <label for="idServico">Código</label><span class="red">*</span>
            <br />
            <input type="text" name="IdServico" id="id" />
        </div>
        
        <br clear="all" />
        
        <div class="campo">
            <label>Empresa</label>
            <br />

            @foreach (Empresa valor in Enum.GetValues(typeof(Empresa)))
            {
                <div class="campoRadio">
                    <input type="radio" id="@valor.GetStringValue()" name="Empresa" value="@((int)valor)" />
                    <label for="@valor.GetStringValue()">@valor.GetStringValue()</label>
                </div>
            }
        </div>
        
        <div class="campo">
            <label>Tipo</label>
            <br />

            @foreach (TipoServico valor in Enum.GetValues(typeof(TipoServico)))
            {
                <div class="campoRadio">
                    <input type="radio" id="@valor" name="Tipo" value="@((int)valor)" />
                    <label for="@valor">@valor.GetStringValue()</label>
                </div>
            }
        </div>
        
        <br clear="all" />
        
        <div class="campo">
            <label>Descrição</label><span class="red">*</span>
            <br />
            <input type="text" name="Descricao" />
        </div>

        <br clear="all" />
                
        <div class="campo">
            <label>Segmento</label>
            <br />
            <select name="Segmento">
                
                <option>Selecione</option>

                @foreach (Segmento segmento in Model.TodosOsSegmentos)
                {
                    <option value="@segmento.Id">@segmento.Descricao</option>
                }

            </select>
        </div>
        
        <div class="campo">
            <label for="referencia">Referência</label><span class="red">*</span>
            <br />
            <select id="referencia" name="ReferenciaServico">

                <option>Selecione</option>

                @foreach (ReferenciaServico valor in Enum.GetValues(typeof(ReferenciaServico)))
                {
                    <option value="@((int)valor)">@valor</option>
                }

            </select>
        </div>
        
        <div class="campo">
            <label>Serviço Relacionado</label>
            <br />
            <select name="ServicoRelacionado">
                
                <option>Nenhum</option>

                @foreach (Servico servicoRelacionado in Model.TodosOsServicosRelacionados)
                {
                    <option value="@servicoRelacionado.Id">@servicoRelacionado.Descricao</option>
                }

            </select>
        </div>
        
        <br clear="all" />
        
        <div class="botoes">
            @Html.ActionLink("Cancelar", "Index")
            <input type="submit" value="Salvar" />
        </div>
    }
</div>